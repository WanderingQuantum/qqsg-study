# 原始解包数据

* [基础状态数据][基础状态数据]
* [混合状态数据][混合状态数据]
* [技能数据][技能数据]
* [怪物数据][怪物数据]
* [物品数据][物品数据]

更多解包数据见[这里][所有解包数据链接]。

如经常遇到加载缓慢或加载失败等问题，可通过文件-另存为-下载副本将文件下载到本地查看。

## 部分数据含义解读

因部分数据含义的解读不便于在Excel表格中展示，故在此记录这些数据的含义解读。

### 技能数据(skilldata.txt)（分析者：@[wu-yafeng](https://github.com/wu-yafeng)，见[issue#10](https://github.com/WanderingQuantum/qqsganalysis/issues/10)）

#### E列

E列为技能动画类型，主要决定了技能所播放的动画类型，如：动画在角色实体上播放、动画在附体life上播放、动画在元神上播放等。

#### F列

F列为技能类型，其数值的二进制表示中某位为1时（即：F列 & (1 << n) != 0），表示该技能为对应的类型。

| 位 | 含义 |
| :----: | :---- |
| 0 | 物理伤害招式 |
| 1 | 魔法伤害招式 |
| 2 | 治疗类招式 |
| 3 | 挑衅类招式 |
| 4 | 恐惧类招式 |
| 5 | 增益类招式 |
| 6 | 减益类招式 |
| 8 | 未知，此类招式会让受击者进入攻击状态 |
| 9 | 未知，此类招式会让受击者进入攻击状态 |
| 12 | 怪物控制类 |
| 14 | 瞬移类技能，目前仅有JS的90技能的第二段 |
| 15 | 具有遮罩动画的技能 |
| 16 | 具有飞行动画的招式 |
| 20 | 冲锋类技能，会导致受击者大幅度击退/击飞 |
| 23 | 冲锋子类，效果比冲锋类更弱，会小幅度击退受击者 |
| 26 | 特殊动画的招式，110XS |

### 基础状态数据(basestatusdata.txt)（分析者：@[wu-yafeng](https://github.com/wu-yafeng)，见[issue#8](https://github.com/WanderingQuantum/qqsganalysis/issues/8)）

#### 太极清灵术的主要数值

记太极清灵术的主要数值组成的数组为

```python
太极清灵术主要数值 = [主要数值1, 主要数值2, 主要数值3, ...]
```

对于任意一个基础状态，设其一级分类码为A，若

```python
((1 << (A & 31)) & 太极清灵术主要数值[A >> 5]) != 0
```

则该基础状态可以被太极清灵术清除。

从基础状态数据表可得

```python
太极清灵术主要数值 = [5507666, 0, 0, ...]
```

根据上述条件，一个一级分类码为A的基础状态可以被太极清灵术清除的充要条件是

```python
((A >> 5) == 0) && (((1 << (A & 31)) & 5507666) != 0)
```

解得
$$
A = 1, 4, 6, 9, 11, 18, 20或22
$$

需要注意的是，太极清灵术对状态的清除可能会出现客户端与服务器不同步的问题，尤其是对恐惧类状态，导致即使状态被清除了但仍会受到负面影响的情况发生，见[@wu-yafeng的报道](https://github.com/wu-yafeng/qqsg_struct/blob/main/GameBug.md)。

### 物品数据(itemdata.txt)（分析者：@[wu-yafeng](https://github.com/wu-yafeng)，见[issue#7](https://github.com/WanderingQuantum/qqsganalysis/issues/7)）

#### E列

E列数值的二进制表示中某位为1时（即：E列 & (1 << n) != 0），表示该物品具有对应的属性。

| 位 | 含义 |
| :----: | :----: |
| 0 | 男性可用 |
| 1 | 女性可用 |

#### K列

| 值 | 含义 |
| :----: | :----: |
| 0 | 敌方单体 |
| 1 | 己方单体 |
| 2 | 自身单体 |
| 3 | 己方范围 |
| 4 | 敌方范围 |
| 5 | 己方范围 |
| 6 | 己方范围 |
| 7 | 敌方范围 |
| 8 | 己方范围 |
| 9 | 敌方范围 |
| 10 | 己方范围 |
| 11 | 己方子女 |
| 12 | 自身和子女 |

#### H列

H列数值的二进制表示中某位为1时（即：H列 & (1 << n) != 0），表示该物品具有对应的属性。

| 位 | 含义 |
| :----: | :----: |
| 0 | 不可销毁 |
| 1 | 不可与玩家交易 |
| 2 | 不可存仓 |
| 3 | 离线消失 |
| 4 | 任务道具 |
| 10 | 不可使用 |
| 25 | 不可丢弃 |

#### V列

V列表示物品的类型，此类型影响了物品的使用的校验逻辑。
下面是几种值的校验逻辑的demo

1. /C25您的在线总时间累计低于/C33%d/C25分钟，不能使用[/C33%s/C25]
2. /C28当前效果/C46%s/C28将被替换，您确定使用/C46%s/C28?
3. /C25您当前所在地图无法进行传送.
4. /C28使用该道具后,将清除您所有的副职业资料,您确定使用?
5. /C25您没有私人仓库使用权限 或 没有启用私人仓库,请购买相应权限并启用后,才能使用/C46%s15、43、67. /C28您需要/C46%s/C28才能打开/C46%s/C28获得珍稀物品

#### AO列

AO列数值的二进制表示中某位为1时（即：AO列 & (1 << n) != 0），表示该物品具有对应的属性。

| 位 | 含义 |
| :----: | :----: |
| 5 | 不可存公仓 |
| 6 | 不可存私仓 |
| 7 | 限特定关系交易 |

### 地图数据(mapdata.txt)（分析者：@[wu-yafeng](https://github.com/wu-yafeng)，见[issue#6](https://github.com/WanderingQuantum/qqsganalysis/issues/6)）

#### AG列

AG列数值的二进制表示中某位为1时（即：AO列 & (1 << n) != 0），表示该地图具有对应的属性，为0时则具有相反的属性。

| 位 | 含义 |
| :----: | :----: |
| 2 | 可以使用保护特权 |
| 24 | 不可自动打怪 |

[基础状态数据]: https://view.officeapps.live.com/op/view.aspx?src=https://cloud.tsinghua.edu.cn/f/afff5826c148452c9279/?dl=1
[混合状态数据]: https://view.officeapps.live.com/op/view.aspx?src=https://cloud.tsinghua.edu.cn/f/6b991bb10f89461e928f/?dl=1
[技能数据]: https://view.officeapps.live.com/op/view.aspx?src=https://cloud.tsinghua.edu.cn/f/40edd7e7422e46ff8dc5/?dl=1
[怪物数据]: https://view.officeapps.live.com/op/view.aspx?src=https://cloud.tsinghua.edu.cn/f/a4625b2c3296434cbde8/?dl=1
[物品数据]: https://view.officeapps.live.com/op/view.aspx?src=https://cloud.tsinghua.edu.cn/f/d3b3e18556cc44fc8514/?dl=1
[所有解包数据链接]: https://cloud.tsinghua.edu.cn/d/cb36c24ba5d54107a252/
