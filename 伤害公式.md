# 伤害公式

## 破甲与减破

破甲与减破是对攻击目标的防御值的改变。QQ三国的战斗系统中存在多种破甲与减破数值。

定义**普通减破**为奥义护体之神、子女藤甲、坚韧之灵等的减破效果。

定义**韧性减破**为角色韧性带来的减破效果。

定义**夫妻减破**为15级及以上夫妻触发协助防御时的减破效果。

定义**破甲/减破百分比**为某种破甲/减破效果所增减的防御百分比。

定义**破甲/减破上限**为某种破甲/减破效果最大能增减的防御值。几乎所有破甲/减破效果都有破甲/减破上限，且物防和法防的破甲/减破上限可能不一样。

定义**破甲/减破值**为某种破甲/减破效果所增减的防御值。

破甲与减破的计算规则为：当目标有破甲与减破效果时，首先对每一种破甲效果计算破甲值
\\[破甲值=\min((总防御-元神防御-八阵图防御)\*破甲百分比\*(1-普通减破百分比之和),破甲上限)\\]
\\[总破甲值=\sum_{不同破甲效果}破甲值\\]
然后对韧性减破计算减破值
\\[韧性减破值=\min((总防御-元神防御-八阵图防御)\*韧性减破百分比,韧性减破上限)\\]
再计算夫妻减破值（若有夫妻协助防御状态）
\\[夫妻减破值=\min((总防御-元神防御-八阵图防御)\*夫妻减破百分比\*(1-普通减破百分比之和),夫妻减破上限)\\]
最后得到目标经破甲与减破之后的防御值
\\[防御=原防御-(总破甲值-韧性减破值-夫妻减破值)\\]

常见破甲效果的数值设定见[这里](常见破甲数据表.md)。

韧性减破的数值设定见[这里](韧性减破数据表.md)。

夫妻减破的数值设定见[这里](夫妻减破数据表.md)。

[这里][破甲减破计算器]是一个计算破甲减破效果的小工具。

[破甲减破计算器]: http://124.222.71.158/apps/myapp
